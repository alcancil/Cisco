<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulado Multicast</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .quiz-option.selected { background-color: #3b82f6; color: white; border-color: #2563eb; }
        .quiz-option.correct { background-color: #22c55e; color: white; }
        .quiz-option.incorrect { background-color: #ef4444; color: white; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 flex items-center justify-center min-h-screen p-4">

    <div id="quiz-container" class="w-full max-w-3xl bg-white rounded-2xl shadow-2xl p-6 md:p-8 transition-all duration-500">
        
        <!-- Tela de Início -->
        <div id="start-screen">
            <h1 class="text-3xl md:text-4xl font-bold text-center text-slate-900 mb-4">Simulado de Multicast</h1>
            <p class="text-center text-slate-600 mb-8">Teste seus conhecimentos sobre Multicast. Você terá 10 minutos para completar 10 questões.</p>
            <div class="text-center">
                <button id="start-quiz-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300">
                    Iniciar Simulado
                </button>
            </div>
        </div>

        <!-- Tela do Quiz -->
        <div id="quiz-screen" class="hidden">
            <div class="flex justify-between items-center mb-6 border-b pb-4">
                <h2 class="text-2xl font-bold text-slate-900">Questão <span id="question-number"></span> de 10</h2>
                <div class="flex items-center space-x-2 bg-slate-200 text-slate-700 font-semibold px-4 py-2 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <span id="timer">10:00</span>
                </div>
            </div>

            <p id="question-text" class="text-lg md:text-xl font-semibold mb-6"></p>
            <div id="options-container" class="space-y-3"></div>

            <div class="mt-8 text-right">
                <button id="next-question-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:bg-slate-400 disabled:cursor-not-allowed" disabled>
                    Próxima Questão
                </button>
            </div>
        </div>

        <!-- Tela de Resultados -->
        <div id="results-screen" class="hidden">
            <h2 class="text-3xl font-bold text-center text-slate-900 mb-4">Resultado Final</h2>
            <div class="bg-slate-200 rounded-lg p-6 text-center mb-8">
                <p class="text-lg text-slate-700">Sua pontuação foi:</p>
                <p class="text-5xl font-extrabold text-blue-600 my-2"><span id="score"></span>%</p>
                <p class="text-slate-600"><span id="correct-answers"></span> de 10 questões corretas</p>
                <p class="text-slate-600 mt-2">Tempo restante: <span id="time-taken"></span></p>
            </div>
            <div id="detailed-results" class="space-y-4 max-h-96 overflow-y-auto pr-2"></div>
            <div class="text-center mt-8">
                <button id="restart-quiz-btn" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-transform transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-gray-300">
                    Tentar Novamente
                </button>
            </div>
        </div>
    </div>

    <script>
        const quizData = [
            { question: "Qual faixa de endereçamento IPv4 é Classe D para Multicast?",
              options: ["192.0.0.0 a 223.255.255.255","224.0.0.0 a 239.255.255.255","128.0.0.0 a 191.255.255.255","240.0.0.0 a 247.255.255.255"],
              answer: "224.0.0.0 a 239.255.255.255" },
            { question: "No IPv6, qual prefixo identifica Multicast?",
              options: ["FE80::/10","2000::/3","FC00::/7","FF00::/8"],
              answer: "FF00::/8" },
            { question: "Qual protocolo evita flooding de tráfego multicast em switches?",
              options: ["PIM","IGMP Snooping","OSPF","BGP"],
              answer: "IGMP Snooping" },
            { question: "Qual endereço multicast bem-conhecido é usado pelo PIM?",
              options: ["224.0.0.5","224.0.0.10","224.0.0.13","224.0.0.2"],
              answer: "224.0.0.13" },
            { question: "Os endereços 239.0.0.0/8 são?",
              options: ["Roteáveis na Internet","Reservados para uso interno","Exclusivos do NTP","Obrigatórios entre AS"],
              answer: "Reservados para uso interno" },
            { question: "Qual problema do mapeamento IPv4 Multicast para MAC foi resolvido no IPv6?",
              options: ["Necessidade de ARP","Lentidão na conversão","Sobreposição de IPs em MACs","Limite de 256 endereços"],
              answer: "Sobreposição de IPs em MACs" },
            { question: "O SSM (232.0.0.0/8) depende de qual versão IGMP?",
              options: ["IGMPv1","IGMPv2","IGMPv3","Qualquer"],
              answer: "IGMPv3" },
            { question: "Qual valor de 'scope' no IPv6 para Link-Local?",
              options: ["1 (Interface)","2 (Link-Local)","5 (Site)","E (Global)"],
              answer: "2 (Link-Local)" },
            { question: "Qual prefixo MAC é usado para Multicast IPv6?",
              options: ["01:00:5E","FF:FF:FF","33:33:00","33:33"],
              answer: "33:33" },
            { question: "O que é GLOP Addressing?",
              options: ["Criptografia","Mapeamento de ASN para Multicast","Balanceamento de carga","Limitar tráfego a VLAN"],
              answer: "Mapeamento de ASN para Multicast" }
        ];

        const startScreen=document.getElementById('start-screen');
        const quizScreen=document.getElementById('quiz-screen');
        const resultsScreen=document.getElementById('results-screen');
        const startBtn=document.getElementById('start-quiz-btn');
        const nextBtn=document.getElementById('next-question-btn');
        const restartBtn=document.getElementById('restart-quiz-btn');
        const questionNumberEl=document.getElementById('question-number');
        const questionTextEl=document.getElementById('question-text');
        const optionsContainer=document.getElementById('options-container');
        const timerEl=document.getElementById('timer');
        const scoreEl=document.getElementById('score');
        const correctAnswersEl=document.getElementById('correct-answers');
        const timeTakenEl=document.getElementById('time-taken');
        const detailedResultsEl=document.getElementById('detailed-results');

        let currentQuestionIndex=0,score=0,timerInterval,timeLeft=600,userAnswers=[];

        function startQuiz(){
            startScreen.classList.add('hidden');quizScreen.classList.remove('hidden');resultsScreen.classList.add('hidden');
            currentQuestionIndex=0;score=0;timeLeft=600;userAnswers=[];
            startTimer();showQuestion();
        }
        function startTimer(){
            timerInterval=setInterval(()=>{
                timeLeft--;const m=Math.floor(timeLeft/60),s=timeLeft%60;
                timerEl.textContent=`${m}:${s<10?'0':''}${s}`;
                if(timeLeft<=0){clearInterval(timerInterval);showResults();}
            },1000);
        }
        function showQuestion(){
            const q=quizData[currentQuestionIndex];questionNumberEl.textContent=currentQuestionIndex+1;questionTextEl.textContent=q.question;
            optionsContainer.innerHTML='';const shuffled=[...q.options].sort(()=>Math.random()-0.5);
            shuffled.forEach(opt=>{
                const b=document.createElement('button');b.textContent=opt;
                b.classList.add('quiz-option','w-full','text-left','p-4','border-2','rounded-lg','transition-colors','duration-200','hover:bg-blue-100','hover:border-blue-400');
                b.onclick=()=>selectOption(b,opt);optionsContainer.appendChild(b);
            });
            nextBtn.textContent=currentQuestionIndex===quizData.length-1?'Ver Resultados':'Próxima Questão';nextBtn.disabled=true;
        }
        function selectOption(btn,opt){
            Array.from(optionsContainer.children).forEach(b=>b.classList.remove('selected'));btn.classList.add('selected');nextBtn.disabled=false;
            userAnswers[currentQuestionIndex]=opt;
        }
        function nextQuestion(){currentQuestionIndex<quizData.length-1?(currentQuestionIndex++,showQuestion()):showResults();}
        function showResults(){
            clearInterval(timerInterval);quizScreen.classList.add('hidden');resultsScreen.classList.remove('hidden');
            score=0;quizData.forEach((q,i)=>{if(userAnswers[i]===q.answer)score++;});
            scoreEl.textContent=Math.round((score/quizData.length)*100);correctAnswersEl.textContent=score;
            const m=Math.floor(timeLeft/60),s=timeLeft%60;timeTakenEl.textContent=`${m}:${s<10?'0':''}${s}`;
            detailedResultsEl.innerHTML='';quizData.forEach((q,i)=>{
                const div=document.createElement('div');div.classList.add('p-4','rounded-lg','border');
                const ua=userAnswers[i],ok=ua===q.answer;
                div.classList.add(ok?'bg-green-50':'bg-red-50',ok?'border-green-300':'border-red-300');
                div.innerHTML=`<p class="font-bold text-slate-800 mb-2">Questão ${i+1}: ${q.question}</p>
                <p class="text-sm ${ok?'text-green-700':'text-red-700'}">Sua resposta: <span class="font-semibold">${ua||'Não respondida'}</span></p>
                ${!ok?`<p class="text-sm text-green-800 mt-1">Resposta correta: <span class="font-semibold">${q.answer}</span></p>`:''}`;
                detailedResultsEl.appendChild(div);
            });
        }
        startBtn.addEventListener('click',startQuiz);nextBtn.addEventListener('click',nextQuestion);restartBtn.addEventListener('click',startQuiz);
    </script>
</body>
</html>
