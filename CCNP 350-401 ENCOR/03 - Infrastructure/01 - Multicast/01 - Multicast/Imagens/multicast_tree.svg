<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="1500" viewBox="0 0 1400 1500" role="img" aria-label="Árvore de Distribuição Multicast">
  <defs>
    <linearGradient id="gRoot" x1="0" x2="1">
      <stop offset="0" stop-color="#ff6b35"/>
      <stop offset="1" stop-color="#ff8c42"/>
    </linearGradient>
    <linearGradient id="gRouter" x1="0" x2="1">
      <stop offset="0" stop-color="#4ecdc4"/>
      <stop offset="1" stop-color="#44a08d"/>
    </linearGradient>
    <linearGradient id="gSwitch" x1="0" x2="1">
      <stop offset="0" stop-color="#667eea"/>
      <stop offset="1" stop-color="#764ba2"/>
    </linearGradient>
    <linearGradient id="gLeaf" x1="0" x2="1">
      <stop offset="0" stop-color="#11998e"/>
      <stop offset="1" stop-color="#38ef7d"/>
    </linearGradient>
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="6" stdDeviation="10" flood-color="#000" flood-opacity="0.25"/>
    </filter>
    <style type="text/css"><![CDATA[
      .title { font: 28px "Segoe UI", Tahoma, sans-serif; fill: #00d4ff; }
      .subtitle { font: 14px "Segoe UI", Tahoma, sans-serif; fill: #b8d4ff; }
      .device { fill: white; font: 13px "Segoe UI", Tahoma, sans-serif; }
      .device-bold { font-weight: 700; }
      .protocol { font: 11px "Segoe UI", Tahoma, sans-serif; fill: #00d4ff; }
      .legend-text { font: 12px "Segoe UI", Tahoma, sans-serif; fill: #fff; }
    ]]></style>
  </defs>

  <!-- Background -->
  <rect width="100%" height="100%" fill="url(#bg)" />
  <rect width="1200" height="800" fill="none" />

  <!-- Header -->
  <text x="60" y="50" class="title">🌳 Árvore de Distribuição Multicast</text>
  <text x="60" y="78" class="subtitle">Grupo: 239.1.1.1 | Cisco CCNP ENCOR 350-401</text>

  <!-- Root (Servidor) -->
  <g transform="translate(460,110)">
    <rect x="0" y="0" rx="12" ry="12" width="280" height="70" fill="url(#gRoot)" stroke="#ffffff" stroke-width="3" filter="url(#shadow)"/>
    <text x="140" y="26" text-anchor="middle" class="device device-bold">📺 SERVIDOR DE VÍDEO</text>
    <text x="140" y="46" text-anchor="middle" class="device">IP: 192.168.100.10 — Envia: 239.1.1.1</text>
  </g>

  <!-- Vertical line down from root -->
  <line x1="600" y1="180" x2="600" y2="240" stroke="url(#gRouter)" stroke-width="4" stroke-linecap="round" />

  <!-- Routers level -->
  <g transform="translate(0,260)">
    <!-- Router A -->
    <g transform="translate(140,0)">
      <rect x="0" y="0" rx="10" width="180" height="70" fill="url(#gRouter)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
      <text x="90" y="24" text-anchor="middle" class="device device-bold">🔄 ROUTER A</text>
      <text x="90" y="44" text-anchor="middle" class="device">Core Router — 10.1.1.1</text>
      <text x="90" y="62" text-anchor="middle" class="protocol">PIM • IGMP</text>
    </g>

    <!-- Router B -->
    <g transform="translate(420,0)">
      <rect x="0" y="0" rx="10" width="180" height="70" fill="url(#gRouter)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
      <text x="90" y="24" text-anchor="middle" class="device device-bold">🔄 ROUTER B</text>
      <text x="90" y="44" text-anchor="middle" class="device">Core Router — 10.1.2.1</text>
      <text x="90" y="62" text-anchor="middle" class="protocol">PIM • IGMP</text>
    </g>

    <!-- Router C -->
    <g transform="translate(700,0)">
      <rect x="0" y="0" rx="10" width="180" height="70" fill="url(#gRouter)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
      <text x="90" y="24" text-anchor="middle" class="device device-bold">🔄 ROUTER C</text>
      <text x="90" y="44" text-anchor="middle" class="device">Core Router — 10.1.3.1</text>
      <text x="90" y="62" text-anchor="middle" class="protocol">PIM • IGMP</text>
    </g>
  </g>

  <!-- Lines to switches -->
  <line x1="230" y1="330" x2="230" y2="380" stroke="#00d4ff" stroke-width="3" />
  <line x1="510" y1="330" x2="510" y2="380" stroke="#00d4ff" stroke-width="3" />
  <line x1="790" y1="330" x2="790" y2="380" stroke="#00d4ff" stroke-width="3" />

  <!-- Switches level -->
  <g transform="translate(0,410)">
    <g transform="translate(140,0)">
      <rect x="0" y="0" rx="8" width="160" height="60" fill="url(#gSwitch)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
      <text x="80" y="25" text-anchor="middle" class="device device-bold">🔀 SWITCH 1</text>
      <text x="80" y="44" text-anchor="middle" class="device">Access Layer — IGMP Snooping</text>
    </g>

    <g transform="translate(420,0)">
      <rect x="0" y="0" rx="8" width="160" height="60" fill="url(#gSwitch)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
      <text x="80" y="25" text-anchor="middle" class="device device-bold">🔀 SWITCH 2</text>
      <text x="80" y="44" text-anchor="middle" class="device">Access Layer — IGMP Snooping</text>
    </g>

    <g transform="translate(700,0)">
      <rect x="0" y="0" rx="8" width="160" height="60" fill="url(#gSwitch)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
      <text x="80" y="25" text-anchor="middle" class="device device-bold">🔀 SWITCH 3</text>
      <text x="80" y="44" text-anchor="middle" class="device">Access Layer — IGMP Snooping</text>
    </g>
  </g>

  <!-- Lines to hosts -->
  <line x1="200" y1="490" x2="160" y2="560" stroke="#00d4ff" stroke-width="2" stroke-dasharray="4 4" />
  <line x1="320" y1="490" x2="320" y2="560" stroke="#00d4ff" stroke-width="2" stroke-dasharray="4 4" />
  <line x1="520" y1="490" x2="520" y2="560" stroke="#00d4ff" stroke-width="2" stroke-dasharray="4 4" />
  <line x1="740" y1="490" x2="740" y2="560" stroke="#00d4ff" stroke-width="2" stroke-dasharray="4 4" />
  <line x1="920" y1="490" x2="920" y2="560" stroke="#00d4ff" stroke-width="2" stroke-dasharray="4 4" />

  <!-- Hosts level -->
  <g transform="translate(0,560)">
    <g transform="translate(120,0)">
      <rect x="0" y="0" rx="6" width="140" height="50" fill="url(#gLeaf)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
      <text x="70" y="22" text-anchor="middle" class="device device-bold">💻 PC-A1</text>
      <text x="70" y="40" text-anchor="middle" class="device">IGMP Join — 239.1.1.1</text>
    </g>

    <g transform="translate(300,0)">
      <rect x="0" y="0" rx="6" width="140" height="50" fill="url(#gLeaf)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
      <text x="70" y="22" text-anchor="middle" class="device device-bold">📱 Mobile-A2</text>
      <text x="70" y="40" text-anchor="middle" class="device">IGMP Join — 239.1.1.1</text>
    </g>

    <g transform="translate(480,0)">
      <rect x="0" y="0" rx="6" width="140" height="50" fill="url(#gLeaf)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
      <text x="70" y="22" text-anchor="middle" class="device device-bold">💻 PC-B1</text>
      <text x="70" y="40" text-anchor="middle" class="device">IGMP Join — 239.1.1.1</text>
    </g>

    <g transform="translate(660,0)">
      <rect x="0" y="0" rx="6" width="140" height="50" fill="url(#gLeaf)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
      <text x="70" y="22" text-anchor="middle" class="device device-bold">📺 TV-B2</text>
      <text x="70" y="40" text-anchor="middle" class="device">IGMP Join — 239.1.1.1</text>
    </g>

    <g transform="translate(840,0)">
      <rect x="0" y="0" rx="6" width="140" height="50" fill="url(#gLeaf)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
      <text x="70" y="22" text-anchor="middle" class="device device-bold">💻 PC-C1</text>
      <text x="70" y="40" text-anchor="middle" class="device">IGMP Join — 239.1.1.1</text>
    </g>
  </g>

  <!-- Legend -->
  <g transform="translate(60,660)">
    <rect x="0" y="0" rx="6" width="1040" height="110" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.12)" />
    <text x="20" y="26" class="legend-text" font-weight="700">Legenda</text>
    <text x="20" y="50" class="legend-text">RAIZ (Source): Servidor que origina o conteúdo multicast</text>
    <text x="360" y="50" class="legend-text">GALHOS (Routers): PIM constrói a árvore entre roteadores; IGMP comunica com hosts locais</text>
    <text x="720" y="50" class="legend-text">RAMOS (Switches): IGMP Snooping otimiza entrega L2</text>
    <text x="20" y="75" class="legend-text">FOLHAS (Hosts): IGMP Join — membros do grupo multicast</text>
  </g>

</svg>
