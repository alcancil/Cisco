<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="100%%" height="100%" viewBox="0 0 1920 1080" role="img" aria-label="Árvore de Distribuição Multicast">
  <defs>
    <!-- Fundo degradê -->
    <linearGradient id="bg" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#0f4c81"/>
      <stop offset="100%" stop-color="#1e3c72"/>
    </linearGradient>
    <linearGradient id="gRoot" x1="0" x2="1">
      <stop offset="0" stop-color="#ff6b35"/>
      <stop offset="1" stop-color="#ff8c42"/>
    </linearGradient>
    <linearGradient id="gRouter" x1="0" x2="1">
      <stop offset="0" stop-color="#4ecdc4"/>
      <stop offset="1" stop-color="#44a08d"/>
    </linearGradient>
    <linearGradient id="gSwitch" x1="0" x2="1">
      <stop offset="0" stop-color="#667eea"/>
      <stop offset="1" stop-color="#764ba2"/>
    </linearGradient>
    <linearGradient id="gLeaf" x1="0" x2="1">
      <stop offset="0" stop-color="#11998e"/>
      <stop offset="1" stop-color="#38ef7d"/>
    </linearGradient>
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="6" stdDeviation="10" flood-color="#000" flood-opacity="0.25"/>
    </filter>
    <style type="text/css"><![CDATA[
      .title { font: 36px "Segoe UI", Tahoma, sans-serif; fill: #00d4ff; }
      .subtitle { font: 18px "Segoe UI", Tahoma, sans-serif; fill: #b8d4ff; }
      .device { fill: white; font: 14px "Segoe UI", Tahoma, sans-serif; }
      .device-bold { font-weight: 700; }
      .protocol { font: 12px "Segoe UI", Tahoma, sans-serif; fill: #00d4ff; }
      .legend-text { font: 14px "Segoe UI", Tahoma, sans-serif; fill: #fff; }
    ]]></style>
  </defs>

  <!-- Fundo -->
  <rect width="100%" height="100%" fill="url(#bg)" />

  <!-- Conteúdo centralizado e ampliado -->
  <g transform="translate(300,80) scale(1.4)">
    <!-- Título -->
    <text x="400" y="30" class="title">🌳 Árvore de Distribuição Multicast</text>
    <text x="400" y="60" class="subtitle">Grupo: 239.1.1.1 | Cisco CCNP ENCOR 350-401</text>

    <!-- Servidor -->
    <g transform="translate(300,90)">
      <rect x="0" y="0" rx="12" ry="12" width="280" height="70" fill="url(#gRoot)" stroke="#ffffff" stroke-width="3" filter="url(#shadow)"/>
      <text x="140" y="26" text-anchor="middle" class="device device-bold">📺 SERVIDOR DE VÍDEO</text>
      <text x="140" y="46" text-anchor="middle" class="device">IP: 192.168.100.10 — Envia: 239.1.1.1</text>
    </g>

    <!-- Linha para roteadores -->
    <line x1="440" y1="160" x2="440" y2="210" stroke="url(#gRouter)" stroke-width="4" stroke-linecap="round" />

    <!-- Roteadores -->
    <g transform="translate(0,230)">
      <g transform="translate(100,0)">
        <rect rx="10" width="180" height="70" fill="url(#gRouter)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
        <text x="90" y="24" text-anchor="middle" class="device device-bold">🔄 ROUTER A</text>
        <text x="90" y="44" text-anchor="middle" class="device">Core Router — 10.1.1.1</text>
        <text x="90" y="62" text-anchor="middle" class="protocol">PIM • IGMP</text>
      </g>
      <g transform="translate(380,0)">
        <rect rx="10" width="180" height="70" fill="url(#gRouter)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
        <text x="90" y="24" text-anchor="middle" class="device device-bold">🔄 ROUTER B</text>
        <text x="90" y="44" text-anchor="middle" class="device">Core Router — 10.1.2.1</text>
        <text x="90" y="62" text-anchor="middle" class="protocol">PIM • IGMP</text>
      </g>
      <g transform="translate(660,0)">
        <rect rx="10" width="180" height="70" fill="url(#gRouter)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
        <text x="90" y="24" text-anchor="middle" class="device device-bold">🔄 ROUTER C</text>
        <text x="90" y="44" text-anchor="middle" class="device">Core Router — 10.1.3.1</text>
        <text x="90" y="62" text-anchor="middle" class="protocol">PIM • IGMP</text>
      </g>
    </g>

    <!-- Linhas para switches -->
    <line x1="190" y1="300" x2="190" y2="350" stroke="#00d4ff" stroke-width="3" />
    <line x1="470" y1="300" x2="470" y2="350" stroke="#00d4ff" stroke-width="3" />
    <line x1="750" y1="300" x2="750" y2="350" stroke="#00d4ff" stroke-width="3" />

    <!-- Switches -->
    <g transform="translate(0,370)">
      <g transform="translate(110,0)">
        <rect rx="8" width="160" height="60" fill="url(#gSwitch)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
        <text x="80" y="25" text-anchor="middle" class="device device-bold">🔀 SWITCH 1</text>
        <text x="80" y="44" text-anchor="middle" class="device">Access Layer — IGMP Snooping</text>
      </g>
      <g transform="translate(390,0)">
        <rect rx="8" width="160" height="60" fill="url(#gSwitch)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
        <text x="80" y="25" text-anchor="middle" class="device device-bold">🔀 SWITCH 2</text>
        <text x="80" y="44" text-anchor="middle" class="device">Access Layer — IGMP Snooping</text>
      </g>
      <g transform="translate(670,0)">
        <rect rx="8" width="160" height="60" fill="url(#gSwitch)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
        <text x="80" y="25" text-anchor="middle" class="device device-bold">🔀 SWITCH 3</text>
        <text x="80" y="44" text-anchor="middle" class="device">Access Layer — IGMP Snooping</text>
      </g>
    </g>

    <!-- Linhas para hosts -->
    <line x1="170" y1="440" x2="130" y2="510" stroke="#00d4ff" stroke-width="2" stroke-dasharray="4 4" />
    <line x1="290" y1="440" x2="290" y2="510" stroke="#00d4ff" stroke-width="2" stroke-dasharray="4 4" />
    <line x1="490" y1="440" x2="490" y2="510" stroke="#00d4ff" stroke-width="2" stroke-dasharray="4 4" />
    <line x1="710" y1="440" x2="710" y2="510" stroke="#00d4ff" stroke-width="2" stroke-dasharray="4 4" />
    <line x1="890" y1="440" x2="890" y2="510" stroke="#00d4ff" stroke-width="2" stroke-dasharray="4 4" />

    <!-- Hosts -->
    <g transform="translate(0,510)">
      <g transform="translate(90,0)">
        <rect rx="6" width="140" height="50" fill="url(#gLeaf)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
        <text x="70" y="22" text-anchor="middle" class="device device-bold">💻 PC-A1</text>
        <text x="70" y="40" text-anchor="middle" class="device">IGMP Join — 239.1.1.1</text>
      </g>
      <g transform="translate(270,0)">
        <rect rx="6" width="140" height="50" fill="url(#gLeaf)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
        <text x="70" y="22" text-anchor="middle" class="device device-bold">📱 Mobile-A2</text>
        <text x="70" y="40" text-anchor="middle" class="device">IGMP Join — 239.1.1.1</text>
      </g>
      <g transform="translate(450,0)">
        <rect rx="6" width="140" height="50" fill="url(#gLeaf)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
        <text x="70" y="22" text-anchor="middle" class="device device-bold">💻 PC-B1</text>
        <text x="70" y="40" text-anchor="middle" class="device">IGMP Join — 239.1.1.1</text>
      </g>
      <g transform="translate(630,0)">
        <rect rx="6" width="140" height="50" fill="url(#gLeaf)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
        <text x="70" y="22" text-anchor="middle" class="device device-bold">📺 TV-B2</text>
        <text x="70" y="40" text-anchor="middle" class="device">IGMP Join — 239.1.1.1</text>
      </g>
      <g transform="translate(810,0)">
        <rect rx="6" width="140" height="50" fill="url(#gLeaf)" stroke="#fff" stroke-width="2" filter="url(#shadow)"/>
        <text x="70" y="22" text-anchor="middle" class="device device-bold">💻 PC-C1</text>
        <text x="70" y="40" text-anchor="middle" class="device">IGMP Join — 239.1.1.1</text>
      </g>
    </g>

    <!-- Legenda -->
    <g transform="translate(60,600)">
      <rect x="0" y="0" rx="6" width="1040" height="90" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.12)" />
      <text x="20" y="26" class="legend-text" font-weight="700">Legenda</text>
      <text x="20" y="50" class="legend-text">RAIZ (Source): Servidor que origina o conteúdo multicast</text>
      <text x="360" y="50" class="legend-text">GALHOS (Routers): PIM constrói a árvore entre roteadores; IGMP comunica com hosts locais</text>
      <text x="20" y="70" class="legend-text">RAMOS (Switches): IGMP Snooping otimiza entrega L2</text>
      <text x="360" y="70" class="legend-text">FOLHAS (Hosts): IGMP Join — membros do grupo multicast</text>
    </g>
  </g>
</svg>
